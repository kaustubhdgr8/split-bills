{"version":3,"sources":["../src/scripts/app.js"],"names":["activePage","window","location","pathname","db","users","_initFirebase","renderView","firebaseConfig","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","firebase","apps","length","initializeApp","database","ref","once","then","snapshot","val","sort","a","b","name","_renderUsers","list","forEach","user","index","avatar","amount","Math","abs","toFixed","document","getElementById","innerHTML","renderUserDetails","userIndex","details","date","classList","remove"],"mappings":"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","sourcesContent":["/**\r\n * GLobal variables\r\n */\r\nlet activePage = window.location.pathname;\r\nlet db;\r\nlet users = [];\r\n\r\n/**\r\n * initialization\r\n */\r\n_initFirebase();\r\nrenderView();\r\n\r\n/**\r\n * Function declarations\r\n */\r\nfunction _initFirebase() {\r\n  const firebaseConfig = {\r\n    apiKey: \"AIzaSyDFB9Kr3k6rI0T_94lO6hcV3pWU_X-XJ5A\",\r\n    authDomain: \"javascript-293715.firebaseapp.com\",\r\n    databaseURL: \"https://javascript-293715.firebaseio.com\",\r\n    projectId: \"javascript-293715\",\r\n    storageBucket: \"javascript-293715.appspot.com\",\r\n    messagingSenderId: \"711748984217\",\r\n    appId: \"1:711748984217:web:10f6e4e39b074cb0a7c708\",\r\n  };\r\n  if (!firebase.apps.length) {\r\n    firebase.initializeApp(firebaseConfig);\r\n  }\r\n  db = firebase.database();\r\n}\r\n\r\nfunction renderView() {\r\n  if (activePage === \"/users.html\") {\r\n    db.ref(\"bill-splitter/users/\")\r\n      .once(\"value\")\r\n      .then((snapshot) => {\r\n        users = snapshot.val();\r\n        users.sort((a, b) => (a.name > b.name ? 1 : b.name > a.name ? -1 : 0));\r\n        _renderUsers();\r\n      });\r\n  }\r\n}\r\n\r\nfunction _renderUsers() {\r\n  if (users.length != 0) {\r\n    let list = \"\";\r\n    users.forEach((user, index) => {\r\n      list += `<a href=\"#\" class=\"list-group-item list-group-item-action d-flex justify-content-between align-items-center\" onclick=\"renderUserDetails(${index})\">\r\n          <span>\r\n            <img src=\"assets/images/${user.avatar}.jpg\" alt=\"${user.avatar}\" class=\"custom__user-list--image\" />\r\n            <span class=\"ml-1 h5\">${user.name}</span>\r\n          </span>`;\r\n      if (user.amount < 0) {\r\n        list += `<span class=\"badge badge-danger custom__user-list--amount\">$${Math.abs(\r\n          user.amount\r\n        ).toFixed(2)}</span> `;\r\n      } else if (user.amount > 0) {\r\n        list += `<span class=\"badge badge-success custom__user-list--amount\">$${user.amount.toFixed(\r\n          2\r\n        )}</span>`;\r\n      } else {\r\n        list += `<span class=\"badge badge-secondary custom__user-list--amount\">$${user.amount.toFixed(\r\n          2\r\n        )}</span>`;\r\n      }\r\n      list += `</a>`;\r\n    });\r\n    document.getElementById(\"users\").innerHTML = list;\r\n  } else {\r\n    document.getElementById(\r\n      \"users\"\r\n    ).innerHTML = `<div class=\"alert alert-warning\" role=\"alert\">No friends found! Add friends now and split your bills easily.</div>`;\r\n  }\r\n}\r\n\r\n/**\r\n * Events\r\n */\r\nfunction renderUserDetails(userIndex) {\r\n  let details = `<h3 class=\"card-title\">${users[userIndex].name}</h3>`;\r\n\r\n  if (users[userIndex].amount < 0) {\r\n    details += `<p class=\"h4 text-danger\">you owe $${Math.abs(\r\n      users[userIndex].amount\r\n    ).toFixed(2)}</p>`;\r\n  } else if (users[userIndex].amount > 0) {\r\n    details += `<p class=\"h4 text-success\">owes you $${users[\r\n      userIndex\r\n    ].amount.toFixed(2)}</p>`;\r\n  } else {\r\n    details += `<p class=\"h4 text-secondary\">all settled up</p>`;\r\n  }\r\n\r\n  details += `<p class=\"card-text\">\r\n      <small class=\"text-muted\">Last expense recorded on ${users[userIndex].date}</small>\r\n    </p>`;\r\n\r\n  document.getElementById(\r\n    \"user-details__image\"\r\n  ).innerHTML = `<img src=\"assets/images/${users[userIndex].avatar}.jpg\" class=\"card-img\" alt=\"${users[userIndex].avatar}\"/>`;\r\n\r\n  document.getElementById(\"user-details\").innerHTML = details;\r\n  document.getElementById(\"user-details__container\").classList.remove(\"hidden\");\r\n}\r\n"],"file":"app.js"}